---
title: "R Notebook"
output: html_notebook
---

```{r list-all-xml-files}
all_files_xml <- list.files("./witsml", recursive = TRUE, full.names = TRUE, 
                        include.dirs = TRUE, pattern = "*.xml")

# get the file for trajectory
traj_files <- grep(pattern = "trajectory", ignore.case = TRUE, 
                   value = TRUE, x = all_files_xml)
traj_files
```


```{r}
library(XML)
url <- traj_files[3]
```

```{r}
xmldoc <- xmlParse(url)
rootNode <- xmlRoot(xmldoc)
rootNode[1]
```

```{r}
data <- xmlSApply(rootNode, function(x) xmlSApply(x, xmlValue))
class(data)
```

```{r}
View(data)
```

```{r}
data.frame(t(data),row.names=NULL)
```

```{r}
rownames(data)
```

```{r}
row.names(data)[startsWith(row.names(data), "trajectoryStation")]
```

```{r}
tS <- data[16, 1]
tS
```


```{r}
data.tS <- data[row.names(data)[startsWith(row.names(data), "trajectoryStation")],]
data.tS
```

